@using MyPortfolio.Models

<div class="card h-100 shadow-sm">
    <img src="@Project.ImageUrl" class="card-img-top" alt="@Project.Title" />
    <div class="card-body d-flex flex-column">
        <h5 class="card-title">@Project.Title</h5>
        <small class="text-muted mb-2">@Project.Date.ToString("yyyy-MM-dd")</small>

        <p class="card-text flex-grow-1">@Project.Description</p>

        @if (Project.Tags?.Any() == true)
        {
            <div class="mb-2">
                @foreach (var tag in Project.Tags)
                {
                    <span class="badge bg-secondary me-1">@tag</span>
                }
            </div>
        }

        <button class="btn btn-primary mt-auto" @onclick="() => OpenProject(Project)">Visa projekt</button>

    </div>
</div>


@code {
    [Parameter]
    public Project Project { get; set; } = default!;

    [Parameter]
    public EventCallback<Project> OnViewClicked { get; set; }

    private async Task OpenProject(Project project)
    {
        await OnViewClicked.InvokeAsync(project);
    }

}
