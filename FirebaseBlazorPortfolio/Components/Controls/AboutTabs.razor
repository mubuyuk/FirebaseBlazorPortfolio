@using MyPortfolio.Models
@rendermode InteractiveServer
@inject FirestoreService FirestoreService

<section class="about-section">
    <div class="container-fluid pt-2 pb-5">
        <div class="row justify-content-center">
            <div class="col-12 col-xl-8 px-4">
                <div class="about-box p-4 p-md-5 text-white">
                    <ul class="nav nav-tabs custom-tab-style mb-4">
                        <li class="nav-item">
                            <a class="nav-link @(activeTab == "about" ? "active" : "")"
                               href="#"
                               @onclick="@(() => SetTab("about"))">Om mig</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link @(activeTab == "projects" ? "active" : "")"
                               href="#"
                               @onclick="@(() => SetTab("projects"))">Projekt</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link @(activeTab == "cv" ? "active" : "")"
                               href="#"
                               @onclick="@(() => SetTab("cv"))">Cv</a>
                        </li>
                    </ul>



                    <div class="tab-content p-4 p-md-5 text-white">
                        @if (activeTab == "about")
                        {
                            <div>
                                <p>
                                    Jag kommer från transportvärlden där jag i över tio år planerade rutter, körde lastbil och såg tekniken förändra allt
                                    – från papper & penna till appar och el-lastbilar. Till slut blev det tydligt...
                                    jag ville inte bara använda tekniken, jag ville vara med och bygga den!
                                </p>
                                <p>
                                    Tekniken gick från att vara ett verktyg till något jag inte kunde vara utan.
                                    Idag utbildar jag mig till .NET Cloud Developer på IT-Högskolan i Göteborg och fokuserar
                                    på backendutveckling & molntjänster i Azure
                                    – med mål att skapa något som gör nytta!
                                </p>
                            </div>
                        }
                        else if (activeTab == "projects")
                        {
                            <div>
                                <h2 class="mb-4">Mina projekt</h2>
                                @foreach (var project in projects)
                                {
                                    <ProjectCard Project="project" />
                                }

                            </div>
                        }
                        else if (activeTab == "cv")
                        {
                            <div>
                                <h2 class="mb-4">Cv</h2>
                                <h5>Erfarenhet</h5>
                                <ul>
                                    <li>Lastbilschaufför & ruttplanerare – 10+ år</li>
                                    <li>Backendprojekt i C# / .NET / Azure</li>
                                </ul>
                                <h5>Utbildning</h5>
                                <ul>
                                    <li>.NET Cloud Developer – IT-Högskolan Göteborg</li>
                                </ul>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


@code {
    private string activeTab = "about";

    private void SetTab(string tab)
    {
        activeTab = tab;
    }

    private List<Project>? projects;

    protected override async Task OnInitializedAsync()
    {
        projects = await FirestoreService.GetProjectsAsync();
    }

}